<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Diagrama Principal de Roles</title>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.8.0/dist/mermaid.min.js"></script>
    <script>
        // Inicializa Mermaid para buscar y renderizar diagramas
        mermaid.initialize({ startOnLoad: true, theme: 'default', securityLevel: 'loose' }); 
    </script>
    
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; text-align: center; }
        h1 { color: #333; }
        .diagram-container { margin: 40px auto; max-width: 1200px; width: 100%; }
    </style>
</head>
<body>

    <h1>Diagrama Principal de Arquitectura de Datos</h1>
    
    <div class="diagram-container">
        <div class="mermaid">
    ---
    config:
    theme: neo
    layout: elk
    look: classic
    ---
    flowchart TB
    subgraph subGraph0["FUENTE DE DATOS"]
        FP["Fuentes Primarias"]
    end
    subgraph subGraph1["ROL DE EXPLORACIÓN"]
        AD(["Arquitecto de Datos"])
    end
    subgraph subGraph2["ROL PRINCIPAL"]
        ID["Ingeniero de Datos"]
    end
    subgraph subGraph3["PLATAFORMA CENTRAL"]
        DWH["Raw & Silver - PostgreSQL"]
    end
    subgraph supGraph4["PLATAFORMA"]
        APIS["API de Producción"]
    end
    subgraph supGraph5["PLATAFORMA"]
        WEB["Plataforma WEB"]
    end
    subgraph subGraph6["ROLES DE TRABAJO"]
        AN(["Análista de Datos"])
        CD(["Científico de Datos"])
    end
    subgraph subGraph7["ROL DE INTEGRACIÓN"]
        DB["Desarrollador Backend"]
    end
    subgraph ROL2["ROL DE PRODUCCIÓN"]
        DF["Desarrollador Frontend"]
    end
    subgraph subGraph8["CUENTAS DE SERVICIO"]
        CUENTA(["Cuenta Externa"])
    end
        FP --> ID & AD
        AD -.-> ID
        ID --> DWH
        DWH --> subGraph6 & DB
        subGraph6 -.-> DB & APIS
        APIS --> subGraph6 & DF
        DB --> APIS
        DF --> WEB
        WEB --> CUENTA
        FP@{ shape: diam}
        DWH@{ shape: hex}
        APIS@{ shape: trap-b}
        WEB@{ shape: trap-t}
        DB@{ shape: rect}
        DF@{ shape: rect}
        style FP fill:#FFFFFF
        style AD fill:#FFFFFF
        style ID fill:#FFFFFF
        style DWH fill:#FFFFFF
        style APIS fill:#FFFFFF
        style WEB fill:#FFFFFF
        style AN fill:#FFFFFF
        style CD fill:#FFFFFF
        style DB fill:#FFFFFF
        style DF fill:#FFFFFF
        style CUENTA fill:#FFFFFF
        style subGraph6 fill:#C8E6C9
        style subGraph0 fill:#FFE0B2
        style subGraph1 fill:#C8E6C9
        style subGraph2 fill:#FFF9C4
        style subGraph3 fill:#BBDEFB
        style subGraph7 fill:#FFF9C4
        style supGraph4 fill:#BBDEFB
        style ROL2 fill:#FFF9C4
        style supGraph5 fill:#BBDEFB
        style subGraph8 fill:#C8E6C9
        linkStyle 0 stroke:#FFD600,fill:none
        linkStyle 1 stroke:#00C853,fill:none
        linkStyle 2 stroke:#00C853,fill:none
        linkStyle 3 stroke:#FFD600,fill:none
        linkStyle 4 stroke:#00C853,fill:none
        linkStyle 5 stroke:#FFD600,fill:none
        linkStyle 6 stroke:#00C853,fill:none
        linkStyle 7 stroke:#00C853,fill:none
        linkStyle 8 stroke:#00C853,fill:none
        linkStyle 9 stroke:#FFD600,fill:none
        linkStyle 10 stroke:#FFD600,fill:none
        linkStyle 11 stroke:#FFD600,fill:none
        linkStyle 12 stroke:#FFD600,fill:none
        
        %% ===============================================
        %% ENLACES DE ZOOM (NAVEGACIÓN A OTROS ARCHIVOS HTML)
        %% ===============================================
        
        %% Al Diagrama 1 (Archivo: diagrama1.html)
        click ID "diagrama1.html" "Ver detalle de Ingestión" _self
        click AD "diagrama1.html" "Ver detalle de Arquitectura" _self
        
        %% Al Diagrama 2 (Archivo: diagrama2.html)
        click CD "diagrama2.html" "Ver detalle de Análisis" _self
        click AN "diagrama2.html" "Ver detalle de Análisis" _self
        click DB "diagrama2.html" "Ver detalle de Backend" _self
        
        %% Al Diagrama 3 (Archivo: diagrama3.html)
        click DF "diagrama3.html" "Ver detalle de Producción" _self
        click CUENTA "diagrama3.html" "Ver detalle de Integración Externa" _self
        
        %% ===============================================
        %% ENLACES A TABLAS (USANDO ANCLAJES DENTRO DE ESTE MISMO ARCHIVO)
        %% ===============================================
        
        click FP "#info-FP" "Información sobre Fuentes Primarias" _self
        click DWH "#info-DWH" "Información sobre DWH" _self
        click APIS "#info-APIS" "Información sobre API de Producción" _self
        click WEB "#info-WEB" "Información sobre Plataforma WEB" _self
        
</div> </div> <div id="info-tablas-container">
</div>
        
</body>
</html>